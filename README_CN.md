# ST语言PLC项目模板

[中文](./README_CN.md) | [English](./README_EN.md)

### 简介
这是一个基于结构化文本(ST)编程语言的通用PLC(可编程逻辑控制器)项目模板，严格遵循IEC 61131-3标准。本项目专门针对Codesys平台进行优化，提供完整的工业自动化应用开发框架。

### 开发环境要求
- Codesys V3.5 SP17或更高版本
- 支持的目标系统：
  - Codesys Control Win V3
  - Codesys Control RTE
  - 所有支持Codesys Runtime的硬件PLC

### 特点
- 完全符合IEC 61131-3标准
- 模块化程序结构
- 完善的代码文档
- 可重用功能块
- 标准库支持
- 跨平台兼容性

### 项目结构
```
├── src/
│   ├── POUs/              # 程序组织单元
│   │   ├── Programs/      # 主程序
│   │   ├── Functions/     # 全局函数
│   │   └── FBs/          # 功能块
│   ├── DUTs/              # 数据单元类型
│   │   ├── Structs/      # 结构体定义
│   │   └── Enums/        # 枚举定义
│   └── GVLs/             # 全局变量列表
├── doc/                   # 文档
└── test/                 # 测试用例
```

### 使用说明
1. 克隆此仓库
2. 使用Codesys V3.5打开项目文件 (.project)
3. 配置目标设备:
   - 选择适当的设备描述文件
   - 配置通信参数（如以太网IP地址）
   - 设置PLC启动行为
4. 库管理：
   - 检查必要的库是否已包含
   - 根据需要添加其他Codesys标准库
5. 程序开发：
   - 使用提供的模板创建新的POU
   - 遵循项目结构规范进行开发
6. 编译和下载：
   - 编译整个项目
   - 检查程序一致性
   - 下载到目标设备
7. 在线调试：
   - 使用Codesys的在线监视功能
   - 使用断点和单步执行进行调试
   - 使用追踪和监视列表分析变量

### 代码规范
1. 变量命名规范：
   - 全局变量使用"G_"前缀
   - 输入变量使用"i_"前缀
   - 输出变量使用"o_"前缀
   - 局部变量使用"l_"前缀
2. 函数块命名：
   - 使用"FB_"前缀
   - 采用驼峰命名法
3. 注释要求：
   - 所有POU必须包含功能说明
   - 复杂算法需要详细注释
   - 变量声明需要包含单位说明

### 文档说明
- 详细文档可在`doc/`目录中找到
- 每个功能块和程序都附有用途和参数说明
- 变量命名遵循行业标准

### 参与贡献
欢迎提交贡献！请随时提交pull request。

### 许可证
本项目采用 GNU 通用公共许可证第3版 (GPL-3.0) 开源协议。

GPL-3.0 许可证的主要规则：
1. 使用自由：您可以出于任何目的使用本软件
2. 分享自由：您可以自由分发本软件副本
3. 学习自由：您可以学习和修改软件源代码
4. 修改自由：您可以将改进的版本发布给公众
5. 相同方式共享：修改后的版本必须使用相同的许可证

该许可证赋予您以下权利：
- 自由使用：您可以自由地使用、修改该软件
- 自由分享：您可以自由地分享该软件及其修改版
- 开源要求：如果您分发该软件的修改版，您必须同样遵循 GPL-3.0 协议开源

完整的许可证文本可以在以下位置找到：
- [GNU GPL-3.0 许可证](https://www.gnu.org/licenses/gpl-3.0.html)
- [项目 LICENSE 文件](./LICENSE)

### 联系方式
如有任何问题或建议，请创建issue。
